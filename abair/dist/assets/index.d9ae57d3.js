import{a as s,j as e,V as l,a9 as p}from"./setPrototypeOf.08e812d4.js";import{a8 as k,a as q,e as E,a9 as H,H as G,A as h,C as g,G as c,aa as f,ab as u,s as C,ac as P,ad as v}from"./App.23b8e641.js";import{M as I}from"./Meta.e1ec4319.js";import"./index.fa9776cf.js";import"./index.module.26d9abbc.js";const L=k(),o=L;function U(){const{t:a}=q(),[A,i]=s.exports.useState(!1),[x]=s.exports.useState(!1),[r,w]=s.exports.useState(!1),[d,$]=s.exports.useState(""),[m,B]=s.exports.useState(""),[W,F]=s.exports.useState(""),y=E(),[n]=H(),S=()=>{w(!r)},T=async t=>{if(t.preventDefault(),r){i(!0);const{data:j,error:b}=await C.auth.signUp({email:d,password:m});i(!1),b?console.log(b):(console.log(j.user),w(!1),n.get("origin")?window.location.href=`${P}${n.get("origin")}`:y(`${v}profile`,{replace:!0}))}else i(!0),C.auth.signInWithPassword({email:d,password:m}).then(()=>{i(!1),n.get("origin")?window.location.href=`${P}${n.get("origin")}`:y(`${v}profile`,{replace:!0})})};return e(G,{children:l(o,{sx:{maxWidth:"sm",width:"100%"},children:[e(I,{title:a("pageTitles.loginSignup")}),x?e(o,{py:{sm:4,xs:2},children:e(h,{title:"Confirmation Email sent",description:"Please check your email to confirm your accout. Then you can login to Abair."})}):r?e(o,{py:{sm:4,xs:2},children:e(h,{title:a("pages.auth.signup")})}):e(o,{py:{sm:4,xs:2},children:e(h,{title:a("pages.auth.login")})}),e(g,{m:2,children:A?"Processing...":x?e(p,{}):e(o,{component:"form",noValidate:!0,onSubmit:t=>{T(t)},sx:{mt:3},children:l(c,{container:!0,spacing:0,children:[e(c,{item:!0,xs:12,my:1,children:e(f,{required:!0,fullWidth:!0,id:"email",label:a("pages.auth.emailAddress"),name:"email",autoComplete:"email",type:"email",placeholder:a("pages.auth.emailAddress"),value:d,onChange:t=>$(t.target.value)})}),e(c,{item:!0,xs:12,my:1,children:e(f,{required:!0,fullWidth:!0,name:"password",label:a("pages.auth.password"),type:"password",id:"password",autoComplete:"new-password",value:m,onChange:t=>B(t.target.value)})}),r?l(p,{children:[e(c,{item:!0,xs:12,my:1,children:e(f,{required:!0,fullWidth:!0,name:"confirm password",label:a("pages.auth.confirmPassword"),type:"password",id:"password",autoComplete:"new-password",value:W,onChange:t=>F(t.target.value)})}),e(g,{sx:{width:"100%"},children:e(u,{type:"submit",variant:"contained",sx:{mt:3,mb:2},children:a("pages.auth.signup")})}),e(u,{sx:{color:"secondary.main"},onClick:S,children:a("pages.auth.haveAccount")})]}):l(p,{children:[e(g,{sx:{width:"100%"},children:e(u,{type:"submit",variant:"contained",sx:{mt:3,mb:2},children:a("pages.auth.login")})}),e(u,{sx:{color:"secondary.main"},onClick:S,children:a("pages.auth.createAccount")})]})]})})})]})})}export{U as default};
