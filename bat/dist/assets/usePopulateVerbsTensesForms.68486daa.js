import{s as a,I}from"./App.e2f22fe0.js";import{r as V,c as u,d as m,e as b,a as g,f as A,g as F,h,i as p,j as w}from"./index.f6ab5e1b.js";import{j as y,U as D,a as c}from"./setPrototypeOf.1b27e896.js";import{a as S}from"./index.bd6f2b6f.js";const l=async(e,r)=>{try{if(e===void 0&&r===void 0){const{data:t,error:s}=await a.rpc("getforms");if(s)throw s;return t}else if(e===void 0){const{data:t,error:s}=await a.rpc("getformsfromtense",{t_id:r});if(s)throw s;return t}else if(r===void 0){const{data:t,error:s}=await a.rpc("getformsfromverb",{v_id:e});if(s)throw s;return t}else{const{data:t,error:s}=await a.rpc("getformsfromverbandtense",{v_id:e,t_id:r});if(s)throw s;return t}}catch(t){alert(t.message)}},f=async(e,r)=>{try{if(e===void 0&&r===void 0){const{data:t,error:s}=await a.rpc("gettenses");if(s)throw s;return t}else if(e===void 0){const{data:t,error:s}=await a.rpc("gettensesfromform",{f_id:r});if(s)throw s;return t}else if(r===void 0){const{data:t,error:s}=await a.rpc("gettensesfromverb",{v_id:e});if(s)throw s;return t}else{const{data:t,error:s}=await a.rpc("gettensesfromverbandform",{v_id:e,f_id:r});if(s)throw s;return t}}catch(t){alert(t.message)}},v=async(e,r)=>{try{if(e===void 0&&r===void 0){const{data:t,error:s}=await a.rpc("getverbs");if(s)throw s;return t}else if(e===void 0){const{data:t,error:s}=await a.rpc("getverbsfromform",{f_id:r});if(s)throw s;return t}else if(r===void 0){const{data:t,error:s}=await a.rpc("getverbsfromtense",{t_id:e});if(s)throw s;return t}else{const{data:t,error:s}=await a.rpc("getverbsfromtenseandform",{t_id:e,f_id:r});if(s)throw s;return t}}catch(t){alert(t.message)}},x=async()=>{try{const{data:e,error:r}=await a.from("bat_forms").select("*");if(r)throw r;return e}catch(e){alert(e.message)}},E=async()=>{try{const{data:e,error:r}=await a.from("bat_tenses").select("*");if(r)throw r;return e}catch(e){alert(e.message)}},j=async()=>{try{const{data:e,error:r}=await a.from("bat_verbs").select("*");if(r)throw r;return e}catch(e){alert(e.message)}},L=()=>y(I,{duration:1e3,height:150,width:150,easing:"ease-out",alt:"Abair Applications",src:V,showLoading:!0});function P(){const e=D(S),{setSelectedVerb:r}=u(),{setSelectedTense:t}=m(),{setSelectedForm:s}=b(),{verbs:d}=g(),{tenses:n}=A(),{forms:i}=F();return c.exports.useEffect(()=>{e!==void 0&&(r(d.find(o=>o.name===e.verb)),t(n.find(o=>o.name===e.tense)),s(i.find(o=>o.name===e.form)))},[e]),null}const U=()=>{const{availableVerbIDs:e}=h(),{availableTenseIDs:r}=p(),{availableFormIDs:t}=w(),{selectedVerb:s,setSelectedVerb:d}=u(),{selectedTense:n,setSelectedTense:i}=m(),{selectedForm:o,setSelectedForm:T}=b();return c.exports.useEffect(()=>{s!==void 0&&(e.includes(s.id)||d(void 0))},[e]),c.exports.useEffect(()=>{n!==void 0&&(r.includes(n.id)||i(void 0))},[r]),c.exports.useEffect(()=>{o!==void 0&&(t.includes(o.id)||T(void 0))},[t]),null},q=()=>{const{selectedVerb:e}=u(),{selectedTense:r}=m(),{selectedForm:t}=b(),{setAvailableVerbIDs:s}=h(),{setAvailableTenseIDs:d}=p(),{setAvailableFormIDs:n}=w();return c.exports.useEffect(()=>{l(e!==void 0?e.id:void 0,r!==void 0?r.id:void 0).then(i=>{n(i!==void 0?i:[])}),f(e!==void 0?e.id:void 0,t!==void 0?t.id:void 0).then(i=>{d(i!==void 0?i:[])})},[e]),c.exports.useEffect(()=>{v(r!==void 0?r.id:void 0,t!==void 0?t.id:void 0).then(i=>{s(i!==void 0?i:[])}),l(e!==void 0?e.id:void 0,r!==void 0?r.id:void 0).then(i=>{n(i!==void 0?i:[])})},[r]),c.exports.useEffect(()=>{v(r!==void 0?r.id:void 0,t!==void 0?t.id:void 0).then(i=>{s(i!==void 0?i:[])}),f(e!==void 0?e.id:void 0,t!==void 0?t.id:void 0).then(i=>{d(i!==void 0?i:[])})},[t]),null};function z(){const{setVerbs:e}=g(),{setTenses:r}=A(),{setForms:t}=F(),{setAvailableVerbIDs:s}=h(),{setAvailableTenseIDs:d}=p(),{setAvailableFormIDs:n}=w();return()=>{j().then(o=>{o!==void 0?e(o):alert("v is undefined")}),E().then(o=>{o!==void 0?r(o):alert("t is undefined")}),x().then(o=>{o!==void 0?t(o):alert("f is undefined")}),v(void 0,void 0).then(o=>{o!==void 0&&s(o)}),f(void 0,void 0).then(o=>{o!==void 0&&d(o)}),l(void 0,void 0).then(o=>{o!==void 0&&n(o)})}}export{L as R,q as a,P as b,z as c,U as u};
