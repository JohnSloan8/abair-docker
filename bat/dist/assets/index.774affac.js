import{X as F,L as o,j as e,a as d}from"./setPrototypeOf.96237ccd.js";import{u as w,M as A}from"./robot.3e6e89fc.js";import{u as B,a as P,b as S,c as k,R as W}from"./usePopulateVerbsTensesForms.75661281.js";import{u as j,a as g,b as x,c as E,d as T,e as u,B as s,A as m,F as q,T as p,f as z,C as r}from"./App.f6db2e07.js";import{C as D}from"./ChatHistories.047f38d8.js";import{b as C,d as M}from"./index.e2051f0b.js";import{B as l}from"./BatBox.77abe198.js";import{p as $,g as R,c as V,P as L,C as N}from"./PlayedChatStats.897df5e3.js";import"./index.module.99d47a0b.js";import"./TotalPoints.2fae7adf.js";const O=()=>{const t=j(),{session:c}=g(),{chats:n,setChats:i}=x(),a=F(E),{setAdjacencyPairs:h}=T(),{t:f}=u(),b=y=>{y?t(`${C}chat`):(c!==null&&a!==void 0&&(console.log("finishing previously unfinished chat"),$(a.id,null,!0,null).then(v=>{h([]),i([...n.slice(0,n.length-1),v])})),t(`${C}set-task`))};return o(l,{children:[e(s,{children:a&&e(l,{button:!0,width:"100%",children:e(m,{size:"large",fullWidth:!0,label:f("buttons.continue"),onClick:()=>{b(!0)},selected:!0,color:"secondary"})})}),e(s,{mt:a?1:0,children:e(l,{button:!0,width:"100%",children:e(m,{size:"large",fullWidth:!0,label:f("buttons.start"),onClick:()=>{b(!1)},selected:!0,color:"secondary"})})})]})},_=()=>{const{t}=u();return e(l,{children:e(s,{children:e(l,{button:!0,width:"100%",children:e(m,{size:"large",fullWidth:!0,label:t("buttons.loginSignup"),onClick:()=>{window.location.href=`${M}/login?origin=applications/bat-mirialta`},selected:!0,color:"secondary"})})})})},G=()=>{const{session:t}=g(),[c,n]=d.exports.useState([]),{t:i}=u();return d.exports.useEffect(()=>{t&&R(t.user.id).then(a=>{if(a){const h=V(a);n(Object.values(h))}})},[t]),e(l,{children:o(q,{children:[e(p,{align:"center",variant:"h6",children:i("headers.stats")}),e(L,{}),e(s,{width:"100%",height:200,sx:{position:"relative"},children:e(s,{width:"93%",height:"100%",sx:{position:"absolute",left:-10},children:e(N,{cumFreq:c})})})]})})},H=()=>{const{i18n:t}=u();B(),P(),S();const{verbs:c}=z(),{chats:n}=x(),{session:i}=g(),a=k(),h=w();return d.exports.useEffect(()=>{c.length===0&&a(),n.length===0&&i!==null&&h(i.user.id)},[i]),o(s,{py:2,children:[e(A,{title:"Welcome"}),e(r,{children:e(W,{})}),e(r,{py:1,px:2,flexDirection:"column",children:o(s,{width:"95%",height:50,children:[e(s,{width:"100%",height:"100%",sx:{display:t.language==="ga"?"block":"none"},children:e(p,{children:"F\xE1ilte isteach sa Bhat M\xEDrialta, do chuiditheoir le briathra m\xEDrialta."})}),e(s,{width:"100%",height:"100%",sx:{display:t.language==="en"?"block":"none"},children:e(p,{children:"Welcome to Bat M\xEDrialta, your irregular verb helper."})})]})}),i?o(s,{children:[e(r,{mt:1,children:e(O,{})}),o(s,{children:[e(r,{mt:2,children:e(G,{})}),e(r,{mt:2,children:e(D,{})})]})]}):e(r,{mt:1,children:e(_,{})})]})},se=H;export{se as default};
