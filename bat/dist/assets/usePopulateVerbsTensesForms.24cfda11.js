import{a as v,w as $,j as ee,W as te}from"./setPrototypeOf.d3c81777.js";import{s as p,I as re}from"./App.56eb5b89.js";import{r as ne,c as B,d as L,e as Q,a as U,f as X,g as Y,h as O,i as z,j as H}from"./index.c8f403d5.js";import{a as se}from"./index.a26076b0.js";const _=async(t,r)=>{try{if(t===void 0&&r===void 0){const{data:n,error:e}=await p.rpc("getforms");if(e)throw e;return n}else if(t===void 0){const{data:n,error:e}=await p.rpc("getformsfromtense",{t_id:r});if(e)throw e;return n}else if(r===void 0){const{data:n,error:e}=await p.rpc("getformsfromverb",{v_id:t});if(e)throw e;return n}else{const{data:n,error:e}=await p.rpc("getformsfromverbandtense",{v_id:t,t_id:r});if(e)throw e;return n}}catch(n){alert(n.message)}},M=async(t,r)=>{try{if(t===void 0&&r===void 0){const{data:n,error:e}=await p.rpc("gettenses");if(e)throw e;return n}else if(t===void 0){const{data:n,error:e}=await p.rpc("gettensesfromform",{f_id:r});if(e)throw e;return n}else if(r===void 0){const{data:n,error:e}=await p.rpc("gettensesfromverb",{v_id:t});if(e)throw e;return n}else{const{data:n,error:e}=await p.rpc("gettensesfromverbandform",{v_id:t,f_id:r});if(e)throw e;return n}}catch(n){alert(n.message)}},W=async(t,r)=>{try{if(t===void 0&&r===void 0){const{data:n,error:e}=await p.rpc("getverbs");if(e)throw e;return n}else if(t===void 0){const{data:n,error:e}=await p.rpc("getverbsfromform",{f_id:r});if(e)throw e;return n}else if(r===void 0){const{data:n,error:e}=await p.rpc("getverbsfromtense",{t_id:t});if(e)throw e;return n}else{const{data:n,error:e}=await p.rpc("getverbsfromtenseandform",{t_id:t,f_id:r});if(e)throw e;return n}}catch(n){alert(n.message)}},oe=async()=>{try{const{data:t,error:r}=await p.from("bat_forms").select("*");if(r)throw r;return t}catch(t){alert(t.message)}},ie=async()=>{try{const{data:t,error:r}=await p.from("bat_tenses").select("*");if(r)throw r;return t}catch(t){alert(t.message)}},ae=async()=>{try{const{data:t,error:r}=await p.from("bat_verbs").select("*");if(r)throw r;return t}catch(t){alert(t.message)}};function G(t,r,n,e){return new(n||(n=Promise))(function(s,c){function o(f){try{u(e.next(f))}catch(a){c(a)}}function i(f){try{u(e.throw(f))}catch(a){c(a)}}function u(f){var a;f.done?s(f.value):(a=f.value,a instanceof n?a:new n(function(h){h(a)})).then(o,i)}u((e=e.apply(t,r||[])).next())})}function T(t,r){var n,e,s,c,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return c={next:i(0),throw:i(1),return:i(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function i(u){return function(f){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,e&&(s=2&a[0]?e.return:a[0]?e.throw||((s=e.return)&&s.call(e),0):e.next)&&!(s=s.call(e,a[1])).done)return s;switch(e=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,e=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(s=o.trys,!((s=s.length>0&&s[s.length-1])||a[0]!==6&&a[0]!==2)){o=0;continue}if(a[0]===3&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(a[0]===6&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=r.call(t,o)}catch(h){a=[6,h],e=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([u,f])}}}function q(t){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&t[r],e=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(t,r){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var e,s,c=n.call(t),o=[];try{for(;(r===void 0||r-- >0)&&!(e=c.next()).done;)o.push(e.value)}catch(i){s={error:i}}finally{try{e&&!e.done&&(n=c.return)&&n.call(c)}finally{if(s)throw s.error}}return o}function I(t,r,n){if(n||arguments.length===2)for(var e,s=0,c=r.length;s<c;s++)!e&&s in r||(e||(e=Array.prototype.slice.call(r,0,s)),e[s]=r[s]);return t.concat(e||Array.prototype.slice.call(r))}function K(t,r,n,e){for(var s=[],c=4;c<arguments.length;c++)s[c-4]=arguments[c];return G(this,void 0,void 0,function(){var o,i,u,f,a,h;return T(this,function(d){switch(d.label){case 0:d.trys.push([0,12,13,14]),o=q(s),i=o.next(),d.label=1;case 1:if(i.done)return[3,11];switch(u=i.value,typeof u){case"string":return[3,2];case"number":return[3,4];case"function":return[3,6]}return[3,8];case 2:return[4,ce(t,u,r,n,e)];case 3:return d.sent(),[3,10];case 4:return[4,Z(u)];case 5:return d.sent(),[3,10];case 6:return[4,u.apply(void 0,I([t,r,n,e],y(s),!1))];case 7:return d.sent(),[3,10];case 8:return[4,u];case 9:d.sent(),d.label=10;case 10:return i=o.next(),[3,1];case 11:return[3,14];case 12:return f=d.sent(),a={error:f},[3,14];case 13:try{i&&!i.done&&(h=o.return)&&h.call(o)}finally{if(a)throw a.error}return[7];case 14:return[2]}})})}function ce(t,r,n,e,s){return G(this,void 0,void 0,function(){var c;return T(this,function(o){switch(o.label){case 0:return c=function(i,u){var f=y(u).slice(0);return I(I([],y(i),!1),[NaN],!1).findIndex(function(a,h){return f[h]!==a})}(t.textContent,r),[4,ue(t,I(I([],y(fe(t.textContent,c)),!1),y(le(r,c)),!1),n,e,s)];case 1:return o.sent(),[2]}})})}function Z(t){return G(this,void 0,void 0,function(){return T(this,function(r){switch(r.label){case 0:return[4,new Promise(function(n){return setTimeout(n,t)})];case 1:return r.sent(),[2]}})})}function ue(t,r,n,e,s){return G(this,void 0,void 0,function(){var c,o,i,u,f,a,h,d,E,N,A,S,k;return T(this,function(b){switch(b.label){case 0:if(c=r,s){for(o=0,i=1;i<r.length;i++)if(u=y([r[i-1],r[i]],2),f=u[0],(a=u[1]).length>f.length||a===""){o=i;break}c=r.slice(o,r.length)}b.label=1;case 1:b.trys.push([1,6,7,8]),h=q(function(F){var V,g,x,j,D,C,P;return T(this,function(l){switch(l.label){case 0:V=function(m){return T(this,function(w){switch(w.label){case 0:return[4,{op:function(R){return requestAnimationFrame(function(){return R.textContent=m})},opCode:function(R){return m===""||R.textContent.length>m.length?"DELETE":"WRITING"}}];case 1:return w.sent(),[2]}})},l.label=1;case 1:l.trys.push([1,6,7,8]),g=q(F),x=g.next(),l.label=2;case 2:return x.done?[3,5]:(j=x.value,[5,V(j)]);case 3:l.sent(),l.label=4;case 4:return x=g.next(),[3,2];case 5:return[3,8];case 6:return D=l.sent(),C={error:D},[3,8];case 7:try{x&&!x.done&&(P=g.return)&&P.call(g)}finally{if(C)throw C.error}return[7];case 8:return[2]}})}(c)),d=h.next(),b.label=2;case 2:return d.done?[3,5]:(E=d.value,N=E.opCode(t)==="WRITING"?n+n*(Math.random()-.5):e+e*(Math.random()-.5),E.op(t),[4,Z(N)]);case 3:b.sent(),b.label=4;case 4:return d=h.next(),[3,2];case 5:return[3,8];case 6:return A=b.sent(),S={error:A},[3,8];case 7:try{d&&!d.done&&(k=h.return)&&k.call(h)}finally{if(S)throw S.error}return[7];case 8:return[2]}})})}function le(t,r,n){var e=y(t).slice(0);return r===void 0&&(r=0),n===void 0&&(n=e.length),T(this,function(s){switch(s.label){case 0:return r<n?[4,e.slice(0,++r).join("")]:[3,2];case 1:return s.sent(),[3,0];case 2:return[2]}})}function fe(t,r,n){var e=y(t).slice(0);return r===void 0&&(r=0),n===void 0&&(n=e.length),T(this,function(s){switch(s.label){case 0:return n>r?[4,e.slice(0,--n).join("")]:[3,2];case 1:return s.sent(),[3,0];case 2:return[2]}})}var de="index-module_type__E-SaG";(function(t,r){r===void 0&&(r={});var n=r.insertAt;if(t&&typeof document<"u"){var e=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&e.firstChild?e.insertBefore(s,e.firstChild):e.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}})(`.index-module_type__E-SaG::after {
  content: '|';
  animation: index-module_cursor__PQg0P 1.1s infinite step-start;
}

@keyframes index-module_cursor__PQg0P {
  50% {
    opacity: 0;
  }
}
`);var be=v.exports.memo(v.exports.forwardRef(function(t,r){var n=t.sequence,e=t.repeat,s=t.className,c=t.speed,o=c===void 0?40:c,i=t.deletionSpeed,u=t.omitDeletionAnimation,f=u!==void 0&&u,a=t.wrapper,h=a===void 0?"span":a,d=t.cursor,E=d===void 0||d,N=t.style;i||(i=o);var A=new Array(2).fill(40);[o,i].forEach(function(l,m){switch(typeof l){case"number":A[m]=Math.abs(l-100);break;case"object":var w=l,R=w.type,J=w.value;if(typeof J!="number")break;R==="keyStrokeDelayInMs"&&(A[m]=J)}});var S,k,b,F,V,g,x=A[0],j=A[1],D=function(l,m){m===void 0&&(m=null);var w=v.exports.useRef(m);return v.exports.useEffect(function(){l&&(typeof l=="function"?l(w.current):l.current=w.current)},[l]),w}(r),C=de;S=s?"".concat(E?C+" ":"").concat(s):E?C:"",k=v.exports.useRef(function(){var l,m=n;return e===1/0?l=K:typeof e=="number"&&(m=Array(1+e).fill(n).flat()),K.apply(void 0,I(I([D.current,x,j,f],y(m),!1),[l],!1)),function(){D.current}}),b=v.exports.useRef(),F=v.exports.useRef(!1),V=v.exports.useRef(!1),g=y(v.exports.useState(0),2)[1],F.current&&(V.current=!0),v.exports.useEffect(function(){return F.current||(b.current=k.current(),F.current=!0),g(function(l){return l+1}),function(){V.current&&b.current&&b.current()}},[]);var P=h;return $.createElement(P,{style:N,className:S,ref:D})}),function(t,r){return!0});const ye=()=>ee(re,{duration:1e3,height:150,width:150,easing:"ease-out",alt:"Abair Applications",src:ne,showLoading:!0});function we(){const t=te(se),{setSelectedVerb:r}=B(),{setSelectedTense:n}=L(),{setSelectedForm:e}=Q(),{verbs:s}=U(),{tenses:c}=X(),{forms:o}=Y();return v.exports.useEffect(()=>{t!==void 0&&(r(s.find(i=>i.name===t.verb)),n(c.find(i=>i.name===t.tense)),e(o.find(i=>i.name===t.form)))},[t]),null}const ge=()=>{const{availableVerbIDs:t}=O(),{availableTenseIDs:r}=z(),{availableFormIDs:n}=H(),{selectedVerb:e,setSelectedVerb:s}=B(),{selectedTense:c,setSelectedTense:o}=L(),{selectedForm:i,setSelectedForm:u}=Q();return v.exports.useEffect(()=>{e!==void 0&&(t.includes(e.id)||s(void 0))},[t]),v.exports.useEffect(()=>{c!==void 0&&(r.includes(c.id)||o(void 0))},[r]),v.exports.useEffect(()=>{i!==void 0&&(n.includes(i.id)||u(void 0))},[n]),null},xe=()=>{const{selectedVerb:t}=B(),{selectedTense:r}=L(),{selectedForm:n}=Q(),{setAvailableVerbIDs:e}=O(),{setAvailableTenseIDs:s}=z(),{setAvailableFormIDs:c}=H();return v.exports.useEffect(()=>{_(t!==void 0?t.id:void 0,r!==void 0?r.id:void 0).then(o=>{c(o!==void 0?o:[])}),M(t!==void 0?t.id:void 0,n!==void 0?n.id:void 0).then(o=>{s(o!==void 0?o:[])})},[t]),v.exports.useEffect(()=>{W(r!==void 0?r.id:void 0,n!==void 0?n.id:void 0).then(o=>{e(o!==void 0?o:[])}),_(t!==void 0?t.id:void 0,r!==void 0?r.id:void 0).then(o=>{c(o!==void 0?o:[])})},[r]),v.exports.useEffect(()=>{W(r!==void 0?r.id:void 0,n!==void 0?n.id:void 0).then(o=>{e(o!==void 0?o:[])}),M(t!==void 0?t.id:void 0,n!==void 0?n.id:void 0).then(o=>{s(o!==void 0?o:[])})},[n]),null};function Te(){const{setVerbs:t}=U(),{setTenses:r}=X(),{setForms:n}=Y(),{setAvailableVerbIDs:e}=O(),{setAvailableTenseIDs:s}=z(),{setAvailableFormIDs:c}=H();return()=>{ae().then(i=>{i!==void 0?t(i):alert("v is undefined")}),ie().then(i=>{i!==void 0?r(i):alert("t is undefined")}),oe().then(i=>{i!==void 0?n(i):alert("f is undefined")}),W(void 0,void 0).then(i=>{i!==void 0&&e(i)}),M(void 0,void 0).then(i=>{i!==void 0&&s(i)}),_(void 0,void 0).then(i=>{i!==void 0&&c(i)})}}export{ye as R,xe as a,we as b,Te as c,be as m,ge as u};
