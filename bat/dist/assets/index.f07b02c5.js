import{F as v,y as h,j as e,a as u}from"./setPrototypeOf.2ff2ecbe.js";import{u as F,a as y,b as A,M as P}from"./index.7b67fc60.js";import{u as B,a as S,b as j,c as T,R as q}from"./usePopulateVerbsTensesForms.1d235940.js";import{u as w,a as d,B as i,A as f,F as W,T as k,C as n}from"./App.86e4a3ec.js";import{C as z}from"./ChatHistories.fe93db09.js";import{u as C,a as R,b,B as l}from"./index.c0ef00c4.js";import{p as V,g as E,c as M,P as N,C as O}from"./calculateChatPointsCumFreq.a543e705.js";import"./index.module.48093d89.js";import"./index.0f318134.js";import"./TotalPoints.d4281fea.js";import"./nonIterableRest.dd54e1e7.js";const _=()=>{const s=w(),{session:o}=d(),{chats:a,setChats:r}=C(),t=v(R),{setAdjacencyPairs:c}=F(),{t:m}=b(),p=g=>{g?s("/chat"):(o!==null&&t!==void 0&&(console.log("finishing previously unfinished chat"),V(t.id,null,!0,null).then(x=>{c([]),r([...a.slice(0,a.length-1),x])})),s("/set-task"))};return h(l,{children:[e(i,{children:t&&e(l,{button:!0,width:"100%",children:e(f,{size:"large",fullWidth:!0,label:m("buttons.continue"),onClick:()=>{p(!0)},selected:!0,color:"secondary"})})}),e(i,{mt:t?1:0,children:e(l,{button:!0,width:"100%",children:e(f,{size:"large",fullWidth:!0,label:m("buttons.start"),onClick:()=>{p(!1)},selected:!0,color:"secondary"})})})]})},G=()=>{const{session:s}=d(),[o,a]=u.exports.useState([]),{t:r}=b();return u.exports.useEffect(()=>{s&&E(s.user.id).then(t=>{if(t){const c=M(t);a(Object.values(c))}})},[s]),e(l,{children:h(W,{children:[e(k,{align:"center",variant:"h6",children:r("headers.stats")}),e(N,{}),e(i,{width:"100%",height:200,sx:{position:"relative"},children:e(i,{width:"93%",height:"100%",sx:{position:"absolute",left:-10},children:e(O,{cumFreq:o})})})]})})},H=()=>{B(),S(),j();const{verbs:s}=y(),{chats:o}=C(),{session:a}=d(),r=T(),t=A();return u.exports.useEffect(()=>{s.length===0&&r(),o.length===0&&a!==null&&t(a.user.id)},[a]),h(i,{children:[e(P,{title:"Welcome"}),e(n,{p:2,children:e(q,{})}),e(n,{children:e(_,{})}),e(n,{mt:2,children:e(G,{})}),e(n,{mt:2,children:e(z,{})})]})},ee=H;export{ee as default};
