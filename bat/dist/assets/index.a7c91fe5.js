import{X as v,L as o,j as e,a as d}from"./setPrototypeOf.96237ccd.js";import{u as F,a as B,b as S,c as A,R as E,m as x}from"./usePopulateVerbsTensesForms.ce070c14.js";import{u as P,M as W}from"./robot.4c5671b4.js";import{u as k,a as m,b as C,c as q,d as D,e as u,B as t,A as p,F as M,T as j,f as T,C as n}from"./App.1eb4defe.js";import{C as z}from"./ChatHistories.295f50da.js";import{b,d as $}from"./index.26a00038.js";import{B as l}from"./BatBox.d1aea7d4.js";import{p as H,g as R,c as V,P as L,C as N}from"./PlayedChatStats.fdbeb5f1.js";import"./index.module.99d47a0b.js";import"./TotalPoints.07d14421.js";const O=()=>{const s=k(),{session:c}=m(),{chats:r,setChats:i}=C(),a=v(q),{setAdjacencyPairs:h}=D(),{t:g}=u(),f=w=>{w?s(`${b}chat`):(c!==null&&a!==void 0&&(console.log("finishing previously unfinished chat"),H(a.id,null,!0,null).then(y=>{h([]),i([...r.slice(0,r.length-1),y])})),s(`${b}set-task`))};return o(l,{children:[e(t,{children:a&&e(l,{button:!0,width:"100%",children:e(p,{size:"large",fullWidth:!0,label:g("buttons.continue"),onClick:()=>{f(!0)},selected:!0,color:"secondary"})})}),e(t,{mt:a?1:0,children:e(l,{button:!0,width:"100%",children:e(p,{size:"large",fullWidth:!0,label:g("buttons.start"),onClick:()=>{f(!1)},selected:!0,color:"secondary"})})})]})},_=()=>{const{t:s}=u();return e(l,{children:e(t,{children:e(l,{button:!0,width:"100%",children:e(p,{size:"large",fullWidth:!0,label:s("buttons.loginSignup"),onClick:()=>{window.location.href=`${$}/login?origin=applications/bat-mirialta`},selected:!0,color:"secondary"})})})})},G=()=>{const{session:s}=m(),[c,r]=d.exports.useState([]),{t:i}=u();return d.exports.useEffect(()=>{s&&R(s.user.id).then(a=>{if(a){const h=V(a);r(Object.values(h))}})},[s]),e(l,{children:o(M,{children:[e(j,{align:"center",variant:"h6",children:i("headers.stats")}),e(L,{}),e(t,{width:"100%",height:200,sx:{position:"relative"},children:e(t,{width:"93%",height:"100%",sx:{position:"absolute",left:-10},children:e(N,{cumFreq:c})})})]})})},I=()=>{const{i18n:s}=u();F(),B(),S();const{verbs:c}=T(),{chats:r}=C(),{session:i}=m(),a=A(),h=P();return d.exports.useEffect(()=>{c.length===0&&a(),r.length===0&&i!==null&&h(i.user.id)},[i]),o(t,{py:2,children:[e(W,{title:"Welcome"}),e(n,{children:e(E,{})}),o(n,{py:1,px:2,flexDirection:"column",children:[e(t,{px:1,width:"95%",children:e(t,{width:"100%",height:"100%",sx:{display:s.language==="ga"?"block":"none"},children:e(x,{style:{whiteSpace:"pre-wrap",minHeight:170,width:"100%"},sequence:[1e3,"F\xE1ilte isteach sa Bhat M\xEDrialta, ",200,"F\xE1ilte isteach sa Bhat M\xEDrialta, do chuiditheoir ",500,"F\xE1ilte isteach sa Bhat M\xEDrialta, do chuiditheoir le briathra m\xEDrialta."],wrapper:"span",cursor:!0,repeat:0})})}),e(t,{px:1,width:"95%",children:e(t,{width:"100%",height:"100%",sx:{display:s.language==="en"?"block":"none"},children:e(x,{style:{whiteSpace:"pre-wrap",minHeight:170,width:"100%"},sequence:[1e3,"Welcome to ",200,"Welcome to Bat M\xEDrialta,",500,"Welcome to Bat M\xEDrialta, your irregular verb helper."],wrapper:"span",cursor:!0,repeat:0})})})]}),i?o(t,{children:[e(n,{mt:1,children:e(O,{})}),o(t,{children:[e(n,{mt:2,children:e(G,{})}),e(n,{mt:2,children:e(z,{})})]})]}):e(n,{mt:1,children:e(_,{})})]})},ae=I;export{ae as default};
