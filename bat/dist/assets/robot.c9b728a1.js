import{m as y,B as D}from"./App.c1d80d21.js";import{W as q}from"./index.module.a0666f78.js";import{a as d,t as A}from"./index.5de09dd4.js";import{j as b,R as n,F as c,d as o}from"./createTheme.3b532d00.js";const C=async e=>{try{const{data:t,error:s}=await y.from("bat_chats").select("*").eq("user_id",e).order("id",{ascending:!0});if(s)console.log("error:",s);else return t}catch(t){alert(t.message)}},M=async(e,t)=>{console.log(`patching chat
`),console.log("chatID: ",e),console.log("complete: ",t);try{const{data:s,error:a}=await y.from("bat_chats").update({id:e,complete:t}).select().single();if(a)throw a;if(s)return s}catch(s){alert(s.message)}};function N({description:e=d.description,meta:t=[],title:s,image:a=d.image}){const r=`${A}${s?" | "+s:""}`;return b(q,{title:r,meta:[{name:"description",content:e},{property:"og:title",content:r},{property:"og:description",content:e},{property:"og:type",content:"website"},{property:"og:image",content:a},{name:"twitter:card",content:"summary"},{name:"twitter:title",content:r},{name:"twitter:description",content:e}].concat(t)})}const W=({children:e,width:t="90%",button:s=!1,height:a="100%"})=>b(D,{sx:{backgroundColor:"#67add6"},width:t,height:a,border:4,borderRadius:3,borderColor:"#3e435a",p:s?0:2,maxWidth:400,children:e}),v=n({key:"adjacency-pairs-state",default:[]}),z=()=>{const[e,t]=o(v);return{adjacencyPairs:e,setAdjacencyPairs:t}},F=c({key:"current-adjacency-pair",get:({get:e})=>{const t=e(v);if(t.length>0)return t.reduce((s,a)=>s.id>a.id?s:a)}}),T=n({key:"received-adjacency-pair-history-state",default:!1}),O=()=>{const[e,t]=o(T);return{receivedAdjacencyPairHistory:e,setReceivedAdjacencyPairHistory:t}},f=n({key:"chats",default:[]}),x=()=>{const[e,t]=o(f);return{chats:e,setChats:t}},m=c({key:"chat-in-progress",get:({get:e})=>{const t=e(f);if(t.length>0&&!t[t.length-1].complete)return t[t.length-1]}}),V=n({key:"intro",default:[]}),$=()=>{const[e,t]=o(V);return{intro:e,setIntro:t}},p=n({key:"questions-state",default:[]}),E=()=>{const[e,t]=o(p);return{questions:e,setQuestions:t}},P=n({key:"question-set-state",default:[]}),G=()=>{const[e,t]=o(P);return{questionSet:e,setQuestionSet:t}},Q=c({key:"current-question-index-state",get:({get:e})=>{const t=e(m),s=e(F);if(t!==void 0&&s!==void 0)return t.questions.indexOf(s.question_id)}}),J=c({key:"current-question-state",get:({get:e})=>{const t=e(m),s=e(p),a=e(Q);if(t!==void 0&&a!==void 0)return s.find(r=>r.id===t.questions[a])}}),i=n({key:"verbs-state",default:[]}),K=()=>{const[e,t]=o(i);return{verbs:e,setVerbs:t}},h=n({key:"available-VerbIDs-state",default:[]}),L=()=>{const[e,t]=o(h);return{availableVerbIDs:e,setAvailableVerbIDs:t}},S=n({key:"selected-verb-state",default:void 0}),U=()=>{const[e,t]=o(S);return{selectedVerb:e,setSelectedVerb:t}},X=c({key:"available-verbs",get:({get:e})=>{const t=e(h),a=e(i).filter(r=>t.includes(r.id));return a!==void 0?a:[]}}),l=n({key:"tenses-state",default:[]}),Y=()=>{const[e,t]=o(l);return{tenses:e,setTenses:t}},g=n({key:"available-tenseIDs-state",default:[]}),Z=()=>{const[e,t]=o(g);return{availableTenseIDs:e,setAvailableTenseIDs:t}},k=n({key:"selected-tense-state",default:void 0}),ee=()=>{const[e,t]=o(k);return{selectedTense:e,setSelectedTense:t}},te=c({key:"available-tenses",get:({get:e})=>{const t=e(g),a=e(l).filter(r=>t.includes(r.id));return a!==void 0?a:[]}}),u=n({key:"forms-state",default:[]}),se=()=>{const[e,t]=o(u);return{forms:e,setForms:t}},j=n({key:"available-FormIDs-state",default:[]}),ae=()=>{const[e,t]=o(j);return{availableFormIDs:e,setAvailableFormIDs:t}},I=n({key:"selected-form-state",default:void 0}),ne=()=>{const[e,t]=o(I);return{selectedForm:e,setSelectedForm:t}},oe=c({key:"available-forms",get:({get:e})=>{const t=e(j),a=e(u).filter(r=>t.includes(r.id));return a!==void 0?a:[]}});n({key:"show-start-state",default:!1});c({key:"task-selected",get:({get:e})=>{const t=e(S),s=e(k),a=e(I);return t!==void 0&&s!==void 0&&a!==void 0}});c({key:"tasks-populated",get:({get:e})=>{const t=e(i),s=e(l),a=e(u);return t.length!==0&&s.length!==0&&a.length!==0}});const _=n({key:"no-questions-state",default:5}),re=()=>{const[e,t]=o(_);return{noQuestions:e,setNoQuestions:t}};function ce(){const{setChats:e}=x();return s=>{C(s).then(a=>{a!==void 0&&e(a)})}}const ie="/assets/images/robot.png";export{V as A,W as B,E as C,O as D,N as M,m as a,z as b,U as c,ee as d,ne as e,G as f,K as g,Y as h,se as i,X as j,te as k,oe as l,re as m,$ as n,L as o,M as p,Z as q,ae as r,ce as s,ie as t,x as u,F as v,Q as w,J as x,v as y,p as z};
