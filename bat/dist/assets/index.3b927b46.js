import{U as y,L as c,j as e,a as h}from"./setPrototypeOf.1b27e896.js";import{u as A,a as F,b as P,M as S}from"./index.72c87e6f.js";import{u as w,a as B,b as j,c as T,R as W}from"./usePopulateVerbsTensesForms.b834d345.js";import{u as k,a as m,b as p,B as o,A as d,F as q,T as z,C as l}from"./App.436cca26.js";import{C as $}from"./ChatHistories.cf638e65.js";import{b as C,d as R}from"./index.d063f658.js";import{u as g,a as V,B as i}from"./index.e18b67df.js";import{p as E,g as L,c as M,P as N,C as O}from"./calculateChatPointsCumFreq.ecbd6ed7.js";import"./index.module.9b73f915.js";import"./TotalPoints.5d28c256.js";const _=()=>{const t=k(),{session:n}=m(),{chats:s,setChats:r}=g(),a=y(V),{setAdjacencyPairs:u}=A(),{t:f}=p(),b=x=>{x?t(`${C}chat`):(n!==null&&a!==void 0&&(console.log("finishing previously unfinished chat"),E(a.id,null,!0,null).then(v=>{u([]),r([...s.slice(0,s.length-1),v])})),t(`${C}set-task`))};return c(i,{children:[e(o,{children:a&&e(i,{button:!0,width:"100%",children:e(d,{size:"large",fullWidth:!0,label:f("buttons.continue"),onClick:()=>{b(!0)},selected:!0,color:"secondary"})})}),e(o,{mt:a?1:0,children:e(i,{button:!0,width:"100%",children:e(d,{size:"large",fullWidth:!0,label:f("buttons.start"),onClick:()=>{b(!1)},selected:!0,color:"secondary"})})})]})},G=()=>{const{t}=p();return e(i,{children:e(o,{children:e(i,{button:!0,width:"100%",children:e(d,{size:"large",fullWidth:!0,label:t("buttons.loginSignup"),onClick:()=>{window.location.href=`${R}/login?origin=applications/bat-mirialta`},selected:!0,color:"secondary"})})})})},H=()=>{const{session:t}=m(),[n,s]=h.exports.useState([]),{t:r}=p();return h.exports.useEffect(()=>{t&&L(t.user.id).then(a=>{if(a){const u=M(a);s(Object.values(u))}})},[t]),e(i,{children:c(q,{children:[e(z,{align:"center",variant:"h6",children:r("headers.stats")}),e(N,{}),e(o,{width:"100%",height:200,sx:{position:"relative"},children:e(o,{width:"93%",height:"100%",sx:{position:"absolute",left:-10},children:e(O,{cumFreq:n})})})]})})},I=()=>{w(),B(),j();const{verbs:t}=F(),{chats:n}=g(),{session:s}=m(),r=T(),a=P();return h.exports.useEffect(()=>{t.length===0&&r(),n.length===0&&s!==null&&a(s.user.id)},[s]),c(o,{py:2,children:[e(S,{title:"Welcome"}),e(l,{children:e(W,{})}),s?c(o,{children:[e(l,{mt:1,children:e(_,{})}),e(l,{mt:2,children:e(H,{})}),e(l,{mt:2,children:e($,{})})]}):e(l,{mt:1,children:e(G,{})})]})},se=I;export{se as default};
