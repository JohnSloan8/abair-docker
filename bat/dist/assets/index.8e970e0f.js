import{W as T}from"./index.module.9b73f915.js";import{a as f,t as I}from"./index.8be50ce9.js";import{j,R as s,V as r,d as a}from"./setPrototypeOf.1b27e896.js";import{a as m,u as q}from"./index.138340ad.js";import{s as C}from"./App.bf2ec71b.js";const D=async t=>{try{const{data:e,error:n}=await C.from("bat_chats").select("*").eq("user_id",t).order("id",{ascending:!0});if(n)console.log("error:",n);else return e}catch(e){alert(e.message)}};function st({description:t=f.description,meta:e=[],title:n,image:o=f.image}){const i=`${I}${n?" | "+n:""}`;return j(T,{title:i,meta:[{name:"description",content:t},{property:"og:title",content:i},{property:"og:description",content:t},{property:"og:type",content:"website"},{property:"og:image",content:o},{name:"twitter:card",content:"summary"},{name:"twitter:title",content:i},{name:"twitter:description",content:t}].concat(e)})}const at="/applications/bat-mirialta/assets/images/robot.png",l=s({key:"adjacency-pairs-state",default:[]}),nt=()=>{const[t,e]=a(l);return{adjacencyPairs:t,setAdjacencyPairs:e}},p=r({key:"current-adjacency-pair",get:({get:t})=>{const e=t(l);if(e.length>0)return e.reduce((n,o)=>n.id>o.id?n:o)}}),R=r({key:"hints-given",get:({get:t})=>{const e=t(l),n=t(p);if(n){const o=e.filter(c=>c.id===n.id);let i=0;return o.map(c=>{Array.isArray(c.hints)&&(i+=c.hints.length)}),i}else return 0}}),x=s({key:"awaiting-hint-state",default:!1}),ot=()=>{const[t,e]=a(x);return{awaitingHint:t,setAwaitingHint:e}},F=s({key:"received-adjacency-pair-history-state",default:!1}),it=()=>{const[t,e]=a(F);return{receivedAdjacencyPairHistory:t,setReceivedAdjacencyPairHistory:e}},b=s({key:"chat-text-state",default:""}),rt=()=>{const[t,e]=a(b);return{chatText:t,setChatText:e}},ct=r({key:"chat-text-empty-state",get:({get:t})=>t(b).length===0}),Q=s({key:"bat-typing-state",default:!1}),lt=()=>{const[t,e]=a(Q);return{batTyping:t,setBatTyping:e}},M=s({key:"message-input-disabled-state",default:!1}),ut=()=>{const[t,e]=a(M);return{messageInputDisabled:t,setMessageInputDisabled:e}},H=s({key:"ta-nil-input-choice-state",default:!1}),dt=()=>{const[t,e]=a(H);return{taNilInputChoice:t,setTaNilInputChoice:e}},V=s({key:"total-points",default:0}),yt=()=>{const[t,e]=a(V);return{totalPoints:t,setTotalPoints:e}},h=s({key:"available-points",default:0}),ft=()=>{const[t,e]=a(h);return{availablePoints:t,setAvailablePoints:e}},O=s({key:"show-available-points",default:!0}),mt=()=>{const[t,e]=a(O);return{showAvailablePoints:t,setShowAvailablePoints:e}},_=s({key:"this-penalty",default:0}),pt=()=>{const[t,e]=a(_);return{mostRecentPenalty:t,setMostRecentPenalty:e}},N=s({key:"show-this-penalty",default:!1}),bt=()=>{const[t,e]=a(N);return{showMostRecentPenalty:t,setShowMostRecentPenalty:e}},B=s({key:"show-points",default:!1}),ht=()=>{const[t,e]=a(B);return{showPoints:t,setShowPoints:e}},vt=r({key:"show-hint-state",get:({get:t})=>{const e=t(R);return t(h)>3&&e<2}}),G=s({key:"show-home",default:!1}),St=()=>{const[t,e]=a(G);return{showHome:t,setShowHome:e}},E=s({key:"completed-questions",default:0}),gt=()=>{const[t,e]=a(E);return{completedQuestions:t,setCompletedQuestions:e}},z=s({key:"cum-freq-array-state",default:[]}),kt=()=>{const[t,e]=a(z);return{cumFreqArray:t,setCumFreqArray:e}},J=s({key:"points-modal-open-state",default:!1}),Pt=()=>{const[t,e]=a(J);return{pointsModalOpen:t,setPointsModalOpen:e}},v=s({key:"questions-state",default:[]}),At=()=>{const[t,e]=a(v);return{questions:t,setQuestions:e}},K=s({key:"question-set-state",default:[]}),wt=()=>{const[t,e]=a(K);return{questionSet:t,setQuestionSet:e}},L=r({key:"current-question-index-state",get:({get:t})=>{const e=t(m),n=t(p);if(e!==void 0&&n!==void 0)return e.questions.indexOf(n.question_id)}}),Tt=r({key:"current-question-state",get:({get:t})=>{const e=t(m),n=t(v),o=t(L);if(e!==void 0&&o!==void 0)return n.find(i=>i.id===e.questions[o])}}),W=s({key:"animating-responses",default:!1}),It=()=>{const[t,e]=a(W);return{animatingResponses:t,setAnimatingResponses:e}},$=s({key:"animating-Outro",default:!1}),jt=()=>{const[t,e]=a($);return{animatingOutro:t,setAnimatingOutro:e}};function qt(){const{setChats:t}=q();return n=>{D(n).then(o=>{o!==void 0&&t(o)})}}const u=s({key:"verbs-state",default:[]}),Ct=()=>{const[t,e]=a(u);return{verbs:t,setVerbs:e}},S=s({key:"available-VerbIDs-state",default:[]}),Dt=()=>{const[t,e]=a(S);return{availableVerbIDs:t,setAvailableVerbIDs:e}},g=s({key:"selected-verb-state",default:void 0}),Rt=()=>{const[t,e]=a(g);return{selectedVerb:t,setSelectedVerb:e}},xt=r({key:"available-verbs",get:({get:t})=>{const e=t(S),o=t(u).filter(i=>e.includes(i.id));return o!==void 0?o:[]}}),d=s({key:"tenses-state",default:[]}),Ft=()=>{const[t,e]=a(d);return{tenses:t,setTenses:e}},k=s({key:"available-tenseIDs-state",default:[]}),Qt=()=>{const[t,e]=a(k);return{availableTenseIDs:t,setAvailableTenseIDs:e}},P=s({key:"selected-tense-state",default:void 0}),Mt=()=>{const[t,e]=a(P);return{selectedTense:t,setSelectedTense:e}},Ht=r({key:"available-tenses",get:({get:t})=>{const e=t(k),o=t(d).filter(i=>e.includes(i.id));return o!==void 0?o:[]}}),y=s({key:"forms-state",default:[]}),Vt=()=>{const[t,e]=a(y);return{forms:t,setForms:e}},A=s({key:"available-FormIDs-state",default:[]}),Ot=()=>{const[t,e]=a(A);return{availableFormIDs:t,setAvailableFormIDs:e}},w=s({key:"selected-form-state",default:void 0}),_t=()=>{const[t,e]=a(w);return{selectedForm:t,setSelectedForm:e}},Nt=r({key:"available-forms",get:({get:t})=>{const e=t(A),o=t(y).filter(i=>e.includes(i.id));return o!==void 0?o:[]}});s({key:"show-start-state",default:!1});r({key:"task-selected",get:({get:t})=>{const e=t(g),n=t(P),o=t(w);return e!==void 0&&n!==void 0&&o!==void 0}});r({key:"tasks-populated",get:({get:t})=>{const e=t(u),n=t(d),o=t(y);return e.length!==0&&n.length!==0&&o.length!==0}});const U=s({key:"no-questions-state",default:10}),Bt=()=>{const[t,e]=a(U);return{noQuestions:t,setNoQuestions:e}};export{R as A,pt as B,gt as C,vt as D,rt as E,ct as F,bt as G,At as H,l as I,v as J,dt as K,it as L,st as M,wt as N,xt as O,Ht as P,Nt as Q,Bt as R,St as S,Ct as a,qt as b,Rt as c,Mt as d,_t as e,Ft as f,Vt as g,Dt as h,Qt as i,Ot as j,lt as k,ut as l,p as m,ot as n,L as o,ft as p,ht as q,at as r,Pt as s,mt as t,nt as u,yt as v,kt as w,jt as x,It as y,Tt as z};
