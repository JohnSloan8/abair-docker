import{W as y,L as u,j as e,a as d}from"./setPrototypeOf.d3c81777.js";import{u as S,a as w,b as A,c as F,R as P,m as B}from"./usePopulateVerbsTensesForms.86f82613.js";import{u as W,a as j,b as q,M as T}from"./index.ecbd487e.js";import{u as k,a as p,b as h,B as n,A as m,F as _,T as z,C as o}from"./App.efd44bd4.js";import{C as $}from"./ChatHistories.7e7d5730.js";import{b,d as R}from"./index.712160c5.js";import{u as C,a as V,B as r}from"./index.0c431426.js";import{p as E,g as H,c as L,P as M,C as N}from"./calculateChatPointsCumFreq.dd9df004.js";import"./index.module.22f9f75f.js";import"./TotalPoints.9f5b6946.js";const O=()=>{const t=k(),{session:l}=p(),{chats:i,setChats:a}=C(),s=y(V),{setAdjacencyPairs:c}=W(),{t:f}=h(),g=x=>{x?t(`${b}chat`):(l!==null&&s!==void 0&&(console.log("finishing previously unfinished chat"),E(s.id,null,!0,null).then(v=>{c([]),a([...i.slice(0,i.length-1),v])})),t(`${b}set-task`))};return u(r,{children:[e(n,{children:s&&e(r,{button:!0,width:"100%",children:e(m,{size:"large",fullWidth:!0,label:f("buttons.continue"),onClick:()=>{g(!0)},selected:!0,color:"secondary"})})}),e(n,{mt:s?1:0,children:e(r,{button:!0,width:"100%",children:e(m,{size:"large",fullWidth:!0,label:f("buttons.start"),onClick:()=>{g(!1)},selected:!0,color:"secondary"})})})]})},G=()=>{const{t}=h();return e(r,{children:e(n,{children:e(r,{button:!0,width:"100%",children:e(m,{size:"large",fullWidth:!0,label:t("buttons.loginSignup"),onClick:()=>{window.location.href=`${R}/login?origin=applications/bat-mirialta`},selected:!0,color:"secondary"})})})})},I=()=>{const{session:t}=p(),[l,i]=d.exports.useState([]),{t:a}=h();return d.exports.useEffect(()=>{t&&H(t.user.id).then(s=>{if(s){const c=L(s);i(Object.values(c))}})},[t]),e(r,{children:u(_,{children:[e(z,{align:"center",variant:"h6",children:a("headers.stats")}),e(M,{}),e(n,{width:"100%",height:200,sx:{position:"relative"},children:e(n,{width:"93%",height:"100%",sx:{position:"absolute",left:-10},children:e(N,{cumFreq:l})})})]})})},D=()=>{const{t}=h();S(),w(),A();const{verbs:l}=j(),{chats:i}=C(),{session:a}=p(),s=F(),c=q();return d.exports.useEffect(()=>{l.length===0&&s(),i.length===0&&a!==null&&c(a.user.id)},[a]),u(n,{py:2,children:[e(T,{title:"Welcome"}),e(o,{children:e(P,{})}),e(o,{py:1,px:3,minHeight:70,children:e(B,{sequence:[1e3,String(t("instructions.welcome.text_01")),200,String(t("instructions.welcome.text_02")),500,String(t("instructions.welcome.text_03"))],wrapper:"span",cursor:!0,repeat:0})}),a?u(n,{children:[e(o,{mt:1,children:e(O,{})}),u(n,{children:[e(o,{mt:2,children:e(I,{})}),e(o,{mt:2,children:e($,{})})]})]}):e(o,{mt:1,children:e(G,{})})]})},ae=D;export{ae as default};
