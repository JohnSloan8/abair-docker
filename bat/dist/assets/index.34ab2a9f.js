import{U as y,L as h,j as e,a as u}from"./setPrototypeOf.1b27e896.js";import{u as A,a as F,b as P,M as B}from"./index.7ae05ad1.js";import{u as S,a as j,b as T,c as q,R as w}from"./usePopulateVerbsTensesForms.96cb79c8.js";import{u as W,a as d,b,B as n,A as f,F as k,T as z,C as i}from"./App.b1c6e109.js";import{C as R}from"./ChatHistories.e526357c.js";import{b as C}from"./index.0803f59e.js";import{u as g,a as V,B as l}from"./index.7cd4bb5d.js";import{p as $,g as E,c as M,P as N,C as O}from"./calculateChatPointsCumFreq.e218d879.js";import"./index.module.9b73f915.js";import"./TotalPoints.47174f63.js";const _=()=>{const s=W(),{session:o}=d(),{chats:a,setChats:r}=g(),t=y(V),{setAdjacencyPairs:c}=A(),{t:m}=b(),p=x=>{x?s(`${C}chat`):(o!==null&&t!==void 0&&(console.log("finishing previously unfinished chat"),$(t.id,null,!0,null).then(v=>{c([]),r([...a.slice(0,a.length-1),v])})),s(`${C}set-task`))};return h(l,{children:[e(n,{children:t&&e(l,{button:!0,width:"100%",children:e(f,{size:"large",fullWidth:!0,label:m("buttons.continue"),onClick:()=>{p(!0)},selected:!0,color:"secondary"})})}),e(n,{mt:t?1:0,children:e(l,{button:!0,width:"100%",children:e(f,{size:"large",fullWidth:!0,label:m("buttons.start"),onClick:()=>{p(!1)},selected:!0,color:"secondary"})})})]})},G=()=>{const{session:s}=d(),[o,a]=u.exports.useState([]),{t:r}=b();return u.exports.useEffect(()=>{s&&E(s.user.id).then(t=>{if(t){const c=M(t);a(Object.values(c))}})},[s]),e(l,{children:h(k,{children:[e(z,{align:"center",variant:"h6",children:r("headers.stats")}),e(N,{}),e(n,{width:"100%",height:200,sx:{position:"relative"},children:e(n,{width:"93%",height:"100%",sx:{position:"absolute",left:-10},children:e(O,{cumFreq:o})})})]})})},H=()=>{S(),j(),T();const{verbs:s}=F(),{chats:o}=g(),{session:a}=d(),r=q(),t=P();return u.exports.useEffect(()=>{s.length===0&&r(),o.length===0&&a!==null&&t(a.user.id)},[a]),h(n,{py:2,children:[e(B,{title:"Welcome"}),e(i,{children:e(w,{})}),e(i,{mt:1,children:e(_,{})}),e(i,{mt:2,children:e(G,{})}),e(i,{mt:2,children:e(R,{})})]})},ee=H;export{ee as default};
